<header class="text-gray-600 body-font">
  <div class="container mx-auto flex flex-wrap p-5 flex-col md:flex-row items-center">
    <% if user_signed_in? %>
      <%= link_to image_tag('hangartalk_logo.png', class: "w-64"), user_path(current_user.id) %>
    <% else %>
      <%= link_to image_tag('hangartalk_logo.png', class: "w-64"), new_user_session_path %>
    <% end %>
    <div class="md:ml-auto flex flex-wrap items-center text-base justify-center">
      <% if user_signed_in? %>
      <div class="relative group w-42">
        <div class="flex items-center bg-gray-100 border-0 py-1 px-4 focus:outline-none hover:bg-gray-200 rounded text-base mt-4 md:mt-0">
          <div class="mx-auto">
            <%= current_user.name.truncate(7) %>
          </div>
          <i class="fa-solid fa-arrow-down ml-4 float-right"></i>
        </div> 
        <div class="absolute invisible group-hover:visible bg-white shadow rounded w-full px-3 py-1 z-10"> 
          <%= link_to edit_user_registration_path(current_user.id) do %>
          <div class="flex py-1 hover:bg-gray-100">
            <i class="fa-regular fa-user my-1"></i>
            <div class="ml-2">プロフィール</div>
          </div>
          <% end %>
          <%= link_to edit_user_registration_path(current_user.id) do %>
          <div class="flex py-1 hover:bg-gray-100">
            <i class="fa-regular fa-address-card"></i>
            <div class="ml-2">アカウント</div>
          </div>
          <% end %>
          <%= link_to destroy_user_session_path, method: :delete do %>
          <div class="flex py-1 hover:bg-gray-100">
            <i class="fa-solid fa-right-from-bracket"></i>
            <div class="ml-2">ログアウト</div>
          </div>
          <% end %>
        </div>
      </div>
      <% else %>
        <%= yield :header_action %>
      <% end %>
    </nav>
  </div>
</header>

