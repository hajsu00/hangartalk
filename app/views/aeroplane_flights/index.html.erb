<% provide(:title, 'フライトログブック（飛行機）') %>
<div class="row">
  <aside class="col-md-4">
    <section class="user_info">
      <h1><%= 'フライトログブック（飛行機）' %></h1>
    </section>
    <section class="flight_experiences">
      <%= render 'shared/flight_experiences' %>
    </section>
  </aside>
  <div class="col-md-8">
    <% if @user.aeroplane_flights.any? %>
      <h3>フライトログ (<%= @user.aeroplane_flights.count %>)</h3>
    <table border="1">
    <!-- 見出し部分 -->
    <tr>
      <th rowspan="2">No.</th>
      <th rowspan="2">出発日</th>
      <th rowspan="2">航空機の型式</th>
      <th rowspan="2">登録記号</th>
      <th rowspan="2">出発地</th>
      <th rowspan="2">到着地</th>
      <th rowspan="2">出発時刻</th>
      <th rowspan="2">到着時刻</th>
      <th rowspan="2">飛行内容</th>
      <th rowspan="2">離陸回数</th>
      <th rowspan="2">着陸回数</th>
      <th rowspan="2">飛行時間</th>
      <th colspan="4">機長または単独の時間</th>
      <th colspan="3">教官同乗教育の時間</th>
      <th colspan="2">計器飛行時間</th>
      <th rowspan="2">飛行訓練装置</th>
      <th rowspan="2">操縦教員</th>
      <th rowspan="2">補足事項</th>
    </tr>
    <tr>
      <th>機長</th>
      <th>単独飛行</th>
      <th>野外飛行</th>
      <th>夜間飛行</th>
      <th>同乗教育</th>
      <th>野外飛行</th>
      <th>夜間飛行</th>
      <th>フード</th>
      <th>計器飛行</th>
    </tr>
    <!-- 一覧表（DBから取得） -->
    <%= render partial: "aeroplane_flight", collection: @aeroplane_flights %>
    <!-- まとめ表 -->
    <tr>
      <% flight_time = page_total_time('current_page') %>
      <%= flight_time[:instructor_time][:hour] %>
      <th colspan="9">ページ小計</th>
      <td><%= '夜間飛行' %></td>
      <td><%= '夜間飛行' %></td>
      <td><%= show_flight_time(flight_time[:total_time][:hour], flight_time[:total_time][:min]) %></td>
      <td><%= show_flight_time(flight_time[:pic_time][:hour], flight_time[:pic_time][:min]) %></td>
      <td><%= show_flight_time(flight_time[:solo_time][:hour], flight_time[:solo_time][:min]) %></td>
      <td><%= show_flight_time(flight_time[:cross_country_time][:hour], flight_time[:cross_country_time][:min]) %></td>
      <td><%= show_flight_time(flight_time[:night_time][:hour], flight_time[:night_time][:min]) %></td>
      <td><%= show_flight_time(flight_time[:dual_time][:hour], flight_time[:dual_time][:min]) %></td>
      <td><%= show_flight_time(flight_time[:dual_crosss_country_time][:hour], flight_time[:dual_crosss_country_time][:min]) %></td>
      <td><%= show_flight_time(flight_time[:dual_night_time][:hour], flight_time[:dual_night_time][:min]) %></td>
      <td><%= show_flight_time(flight_time[:hood_time][:hour], flight_time[:hood_time][:min]) %></td>
      <td><%= show_flight_time(flight_time[:instrument_time][:hour], flight_time[:instrument_time][:min]) %></td>
      <td><%= show_flight_time(flight_time[:simlator_time][:hour], flight_time[:simlator_time][:min])  %></td>
      <td><%= show_flight_time(flight_time[:instructor_time][:hour], flight_time[:instructor_time][:min]) %></td>
      <td><%= '夜間飛行' %></td>
    </tr>
    <tr>
      <th colspan="9">前ページまでの合計</th>
      <% flight_time = page_total_time('up_to_previous_page') %>
      <td><%= '夜間飛行' %></td>
      <td><%= '夜間飛行' %></td>
      <td><%= show_flight_time(flight_time[:total_time][:hour], flight_time[:total_time][:min]) %></td>
      <td><%= show_flight_time(flight_time[:pic_time][:hour], flight_time[:pic_time][:min]) %></td>
      <td><%= show_flight_time(flight_time[:solo_time][:hour], flight_time[:solo_time][:min]) %></td>
      <td><%= show_flight_time(flight_time[:cross_country_time][:hour], flight_time[:cross_country_time][:min]) %></td>
      <td><%= show_flight_time(flight_time[:night_time][:hour], flight_time[:night_time][:min]) %></td>
      <td><%= show_flight_time(flight_time[:dual_time][:hour], flight_time[:dual_time][:min]) %></td>
      <td><%= show_flight_time(flight_time[:dual_crosss_country_time][:hour], flight_time[:dual_crosss_country_time][:min]) %></td>
      <td><%= show_flight_time(flight_time[:dual_night_time][:hour], flight_time[:dual_night_time][:min]) %></td>
      <td><%= show_flight_time(flight_time[:hood_time][:hour], flight_time[:hood_time][:min]) %></td>
      <td><%= show_flight_time(flight_time[:instrument_time][:hour], flight_time[:instrument_time][:min]) %></td>
      <td><%= show_flight_time(flight_time[:simlator_time][:hour], flight_time[:simlator_time][:min])  %></td>
      <td><%= show_flight_time(flight_time[:instructor_time][:hour], flight_time[:instructor_time][:min]) %></td>
      <td><%= '夜間飛行' %></td>
    </tr>
    <tr>
      <th colspan="9">合計</th>
      <% flight_time = page_total_time('all_page') %>
      <td><%= '夜間飛行' %></td>
      <td><%= '夜間飛行' %></td>
      <td><%= show_flight_time(flight_time[:total_time][:hour], flight_time[:total_time][:min]) %></td>
      <td><%= show_flight_time(flight_time[:pic_time][:hour], flight_time[:pic_time][:min]) %></td>
      <td><%= show_flight_time(flight_time[:solo_time][:hour], flight_time[:solo_time][:min]) %></td>
      <td><%= show_flight_time(flight_time[:cross_country_time][:hour], flight_time[:cross_country_time][:min]) %></td>
      <td><%= show_flight_time(flight_time[:night_time][:hour], flight_time[:night_time][:min]) %></td>
      <td><%= show_flight_time(flight_time[:dual_time][:hour], flight_time[:dual_time][:min]) %></td>
      <td><%= show_flight_time(flight_time[:dual_crosss_country_time][:hour], flight_time[:dual_crosss_country_time][:min]) %></td>
      <td><%= show_flight_time(flight_time[:dual_night_time][:hour], flight_time[:dual_night_time][:min]) %></td>
      <td><%= show_flight_time(flight_time[:hood_time][:hour], flight_time[:hood_time][:min]) %></td>
      <td><%= show_flight_time(flight_time[:instrument_time][:hour], flight_time[:instrument_time][:min]) %></td>
      <td><%= show_flight_time(flight_time[:simlator_time][:hour], flight_time[:simlator_time][:min])  %></td>
      <td><%= show_flight_time(flight_time[:instructor_time][:hour], flight_time[:instructor_time][:min]) %></td>
      <td><%= '夜間飛行' %></td>
    </tr>
  </table>
    <% else %>
      <p>登録されたフライトログがありません。</p>
    <% end %>
  </div>
</div>